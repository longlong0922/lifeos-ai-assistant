# LifeOS AI Assistant ğŸš€

> **è½»é‡çº§æ™ºèƒ½ç”Ÿæ´»åŠ©ç†** â€”â€” åŸºäºè…¾è®¯æ··å…ƒå¤§æ¨¡å‹ + LangGraph çš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/)
[![LangChain](https://img.shields.io/badge/LangChain-1.0.2-orange.svg)](https://python.langchain.com/)
[![FastAPI](https://img.shields.io/badge/FastAPI-Latest-green.svg)](https://fastapi.tiangolo.com/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

---

## âœ¨ é¡¹ç›®ç‰¹è‰²

- ğŸ¤– **çœŸæ­£çš„å¤§æ¨¡å‹æ„å›¾è¯†åˆ«** - ä½¿ç”¨è…¾è®¯æ··å…ƒ LLMï¼Œä¸æ˜¯ç®€å•çš„å…³é”®è¯åŒ¹é…
- ğŸ’¬ **å¤šè½®å¯¹è¯è®°å¿†** - SQLite æŒä¹…åŒ–å­˜å‚¨ï¼Œæ”¯æŒä¸Šä¸‹æ–‡è¿è´¯å¯¹è¯
- ğŸ”„ **LangGraph å·¥ä½œæµ** - 8ä¸ªæ™ºèƒ½èŠ‚ç‚¹ï¼Œæ¡ä»¶è·¯ç”±ï¼Œä¸“ä¸šçš„ Agent æ¶æ„
- ğŸ¨ **ç°ä»£åŒ– Web UI** - æ¸å˜è‰²è®¾è®¡ï¼ŒWebSocket å®æ—¶é€šä¿¡ï¼Œå“åº”å¼å¸ƒå±€
- ğŸ“Š **æ•°æ®å¯è§†åŒ–** - ä»»åŠ¡ç»Ÿè®¡ã€ä¹ æƒ¯è¿½è¸ªã€ç›®æ ‡è¿›åº¦ä¸€ç›®äº†ç„¶
- ğŸ› ï¸ **å®Œæ•´å·¥å…·é“¾** - 4 å¤§ç±»å·¥å…·ï¼šä»»åŠ¡ç®¡ç†ã€ä¹ æƒ¯è¿½è¸ªã€ç›®æ ‡è§„åˆ’ã€æƒ…ç»ªæ”¯æŒ

---

## ğŸ“– ç›®å½•

- [æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„)
- [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [ä½¿ç”¨ç¤ºä¾‹](#-ä½¿ç”¨ç¤ºä¾‹)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1ï¸âƒ£ æ™ºèƒ½æ„å›¾è¯†åˆ«
- **6 ç§æ„å›¾ç±»å‹**ï¼šä»»åŠ¡ç®¡ç†ã€æƒ…ç»ªæ”¯æŒã€ä¹ æƒ¯è¿½è¸ªã€ç›®æ ‡è®¾å®šã€åæ€æ€»ç»“ã€é—²èŠå¯¹è¯
- **å¤§æ¨¡å‹é©±åŠ¨**ï¼šåŸºäºè…¾è®¯æ··å…ƒ LLM çš„è¯­ä¹‰ç†è§£
- **ç½®ä¿¡åº¦è¯„åˆ†**ï¼šæ¯ä¸ªè¯†åˆ«ç»“æœéƒ½æœ‰ç½®ä¿¡åº¦åˆ†æ•°

### 2ï¸âƒ£ ä»»åŠ¡ç®¡ç†
- âœ… è‡ªåŠ¨æå–ç”¨æˆ·è¾“å…¥ä¸­çš„ä»»åŠ¡
- ğŸ”´ğŸŸ¡ğŸŸ¢ **æ™ºèƒ½ä¼˜å…ˆçº§æ’åº**ï¼ˆhigh â†’ medium â†’ lowï¼‰
- ğŸ“‹ ä»»åŠ¡åˆ†ç±»å’Œå»ºè®®
- ğŸ’¡ ä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼ˆç†è§£"é‚£æˆ‘åº”è¯¥å…ˆåšå“ªä¸ªï¼Ÿ"è¿™ç±»é—®é¢˜ï¼‰

### 3ï¸âƒ£ æƒ…ç»ªæ”¯æŒ
- ğŸ’š æƒ…ç»ªè¯†åˆ«å’Œå€¾å¬
- ğŸ¤— æ¸©æš–çš„å›åº”å’Œå»ºè®®
- ï¿½ æƒ…ç»ªè®°å½•å’Œåˆ†æ

### 4ï¸âƒ£ ä¹ æƒ¯è¿½è¸ª
- ğŸ¯ å»ºç«‹æ–°ä¹ æƒ¯çš„æŒ‡å¯¼
- ğŸ“… æ‰“å¡è®°å½•
- ğŸ“Š ä¹ æƒ¯ç»Ÿè®¡
      3. æœ‰ä¸‰å°é‚®ä»¶è¦å›å¤
      4. åŒäº‹è®©æˆ‘å¸®å¿™çœ‹ä¸¤ä¸ªæ–‡ä»¶
      5. è¿˜è¦å»è¶…å¸‚ä¹°èœ"
```

**LifeOS è¾“å‡º:**

```
ğŸ“Š æˆ‘å¸®ä½ ç†äº†ä¸€ä¸‹ï¼Œä½ ä»Šå¤©çš„è´Ÿæ‹…æ¥è‡ª 5 ç±»ä»»åŠ¡ï¼š

ğŸ“Œ é«˜ä¼˜å…ˆçº§ï¼ˆå¿…é¡»ä»Šå¤©å®Œæˆï¼‰
  1. æ˜å¤©è¦äº¤çš„é¡¹ç›®æŠ¥å‘Šï¼ˆæ—¶é—´ç´§è¿«ï¼Œä¼˜å…ˆçº§ï¼š10/10ï¼‰

ğŸ“Œ ä¸­ä¼˜å…ˆçº§ï¼ˆä»Šå¤©å®Œæˆæ›´å¥½ï¼‰
  2. æ™šä¸Šå®¢æˆ·ä¼šé¢å‡†å¤‡ï¼ˆä»Šæ™šä¼šè®®ï¼Œä¼˜å…ˆçº§ï¼š8/10ï¼‰

ğŸ“Œ å¯å»¶åï¼ˆä¸å½±å“ä»Šå¤©æ ¸å¿ƒè¿›åº¦ï¼‰
  3. ä¸‰å°é‚®ä»¶å›å¤
  4. åŒäº‹çš„ä¸¤ä¸ªæ–‡ä»¶
  5. è¶…å¸‚ä¹°èœ

ğŸ’¡ å»ºè®®è·³è¿‡æˆ–å»¶åï¼š
  â€¢ ä¸ç´§æ€¥çš„é‚®ä»¶å¯ä»¥æ˜å¤©æ—©ä¸Šå¤„ç†
  â€¢ ä¹°èœå¯ä»¥è®©å®¶äººå¸®å¿™æˆ–å«å¤–å–

ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼ˆ5åˆ†é’Ÿå³å¯å¯åŠ¨ï¼‰ï¼š
  â†’ æ‰“å¼€æŠ¥å‘Šæ–‡æ¡£ï¼Œå†™ 3 è¡Œæ ¸å¿ƒæ‘˜è¦
  
æˆ‘ä¼šåœ¨ 15 åˆ†é’Ÿåæé†’ä½ ç»§ç»­ã€‚
```

**æ ¸å¿ƒèƒ½åŠ›:**
- âœ… è‡ªåŠ¨åˆ†ç±»ä»»åŠ¡
- âœ… è¯„ä¼°ä¼˜å…ˆçº§ï¼ˆé‡è¦æ€§ Ã— ç´§è¿«æ€§ï¼‰
- âœ… è¯†åˆ«å¯è·³è¿‡é¡¹
- âœ… æç‚¼æœ€è½»æ¾çš„å¯åŠ¨ç‚¹

---

### 2ï¸âƒ£ è®¡åˆ’éš¾æ‰§è¡Œ â†’ è‡ªåŠ¨æ‹†æˆ"ä¸‹ä¸€æ­¥è¡ŒåŠ¨"

**åœºæ™¯:**
```
ç”¨æˆ·: "æˆ‘æƒ³å¼€å§‹å­¦ä¹  Python æ•°æ®åˆ†æï¼Œä½†ä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹"
```

**LifeOS è¾“å‡º:**

```
ğŸ“‹ æˆ‘å¸®ä½ æ‹†è§£æˆ 3 ä¸ªå¯æ‰§è¡Œæ­¥éª¤ï¼š

ğŸŸ¦ æ­¥éª¤ 1ï¼ˆç«‹å³å¯åš - 5åˆ†é’Ÿï¼‰
   â†’ å®‰è£… Anaconda å¼€å‘ç¯å¢ƒ
   é¢„æœŸæˆæœï¼šç¯å¢ƒå®‰è£…å®Œæˆï¼Œå¯ä»¥æ‰“å¼€ Jupyter Notebook
   
ğŸŸ¦ æ­¥éª¤ 2ï¼ˆå‡†å¤‡å·¥ä½œ - 20åˆ†é’Ÿï¼‰
   â†’ ä¸‹è½½ä¸€ä¸ªçœŸå®æ•°æ®é›†ï¼ˆæ¨è Kaggle Titanicï¼‰
   é¢„æœŸæˆæœï¼šæœ‰äº†ç»ƒæ‰‹çš„æ•°æ®
   
ğŸŸ¦ æ­¥éª¤ 3ï¼ˆæ ¸å¿ƒå­¦ä¹  - 30åˆ†é’Ÿï¼‰
   â†’ è·Ÿç€æ•™ç¨‹å®Œæˆç¬¬ä¸€ä¸ªæ•°æ®å¯è§†åŒ–
   é¢„æœŸæˆæœï¼šç»˜åˆ¶å‡ºç¬¬ä¸€å¼ å›¾è¡¨

ğŸ’¡ æ¨èä»æ­¥éª¤ 1 å¼€å§‹ï¼ˆæœ€å®¹æ˜“ä¸Šæ‰‹ï¼‰

âœ¨ å®Œæˆç¬¬ä¸€æ­¥åï¼Œæˆ‘ä¼šå¸®ä½ è§„åˆ’ä¸‹ä¸€æ­¥ã€‚
```

**æ ¸å¿ƒèƒ½åŠ›:**
- âœ… ä»»åŠ¡åˆ†è§£ï¼ˆå¤§ä»»åŠ¡ â†’ å°æ­¥éª¤ï¼‰
- âœ… ä½æ‘©æ“¦å¯åŠ¨ï¼ˆä¼˜å…ˆæ¨è 1-5 åˆ†é’Ÿçš„è¡ŒåŠ¨ï¼‰
- âœ… æ˜ç¡®é¢„æœŸæˆæœ
- âœ… æŒç»­è·Ÿè¿›æŒ‡å¯¼

---

### 3ï¸âƒ£ ä¸ªæ€§åŒ–æŒ‡å¯¼ â†’ æ ¹æ®ä½ çš„ä¹ æƒ¯è°ƒæ•´è®¡åˆ’

**åœºæ™¯:**
```
ç”¨æˆ·: "ä»Šå¤©ä¸‹åˆè¦å†™æŠ¥å‘Šï¼Œæ™šä¸Šè¦å›é‚®ä»¶ï¼Œæ˜å¤©ä¸Šåˆè¦å¼€ä¼š"

ï¼ˆç³»ç»Ÿè®°ä½äº†ï¼šä½ æ—©ä¸Šæ•ˆç‡é«˜ã€æ™šä¸Šå®¹æ˜“ç´¯ï¼‰
```

**LifeOS è¾“å‡º:**

```
ğŸ“… åŸºäºä½ çš„ä¹ æƒ¯ï¼Œæˆ‘é‡æ–°å®‰æ’äº†è®¡åˆ’ï¼š

âœ… ä»Šå¤©ä¸‹åˆï¼ˆ13:00-17:00ï¼‰
   â†’ å›å¤é‚®ä»¶ï¼ˆè½»é‡å·¥ä½œï¼‰
   
### 5ï¸âƒ£ ç›®æ ‡è§„åˆ’
- ğŸŒŸ å¤§ç›®æ ‡æ‹†è§£ä¸ºå°æ­¥éª¤
- ğŸ“ é‡Œç¨‹ç¢‘è®¾ç½®
- ï¿½ ç¬¬ä¸€æ­¥è¡ŒåŠ¨æŒ‡å¼•

### 6ï¸âƒ£ åæ€æ€»ç»“
- ğŸ“ å®šæœŸå›é¡¾å¼•å¯¼
- ğŸ’­ æ€ç»´æ•´ç†
- ğŸ“ˆ æˆé•¿è®°å½•

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

```
Python 3.10+
pip æˆ– conda
```

### 2. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/lifeos-ai-assistant.git
cd lifeos-ai-assistant
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

æ ¸å¿ƒä¾èµ–ï¼š
- `langchain==1.0.2` - LangChain æ¡†æ¶
- `langgraph==0.0.62` - å·¥ä½œæµç¼–æ’
- `tencentcloud-sdk-python==3.0.1090` - è…¾è®¯æ··å…ƒ SDK
- `fastapi` - Web æ¡†æ¶
- `uvicorn` - ASGI æœåŠ¡å™¨
- `websockets` - WebSocket æ”¯æŒ
- `pydantic==2.11.0` - æ•°æ®éªŒè¯

### 4. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# è…¾è®¯æ··å…ƒé…ç½®ï¼ˆå¿…å¡«ï¼‰
TENCENT_SECRET_ID=your_secret_id_here
TENCENT_SECRET_KEY=your_secret_key_here

# LLM é…ç½®
LLM_PROVIDER=hunyuan
MODEL_NAME=hunyuan-large

# æ•°æ®åº“è·¯å¾„ï¼ˆå¯é€‰ï¼‰
DB_PATH=lifeos_data.db
```

**è·å–è…¾è®¯äº‘å¯†é’¥ï¼š**
1. è®¿é—® [è…¾è®¯äº‘æ§åˆ¶å°](https://console.cloud.tencent.com/)
2. è¿›å…¥"è®¿é—®ç®¡ç†" â†’ "APIå¯†é’¥ç®¡ç†"
3. åˆ›å»ºå¯†é’¥å¯¹ï¼Œå¤åˆ¶ SecretId å’Œ SecretKey

### 5. å¯åŠ¨æœåŠ¡

#### æ–¹å¼ 1: Web UIï¼ˆæ¨èï¼‰

```bash
python web_app.py
```

è®¿é—®ï¼šhttp://localhost:8000

#### æ–¹å¼ 2: å‘½ä»¤è¡Œæµ‹è¯•

```bash
python demo_complete.py
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
lifeos-ai-assistant/
â”œâ”€â”€ agents/                          # æ™ºèƒ½ä½“æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ state.py                     # LangGraph çŠ¶æ€å®šä¹‰
â”‚   â”œâ”€â”€ hunyuan_llm.py              # è…¾è®¯æ··å…ƒ LLM å°è£…
â”‚   â”œâ”€â”€ prompts_complete.py         # æ‰€æœ‰ Prompt æ¨¡æ¿
â”‚   â”œâ”€â”€ tools_complete.py           # 4 å¤§ç±»å·¥å…·å®ç°
â”‚   â”œâ”€â”€ conversation_manager.py     # å¯¹è¯ç®¡ç†ï¼ˆSQLiteï¼‰
â”‚   â””â”€â”€ workflow_complete.py        # LangGraph å·¥ä½œæµ
â”‚
â”œâ”€â”€ static/                          # Web UI é™æ€èµ„æº
â”‚   â””â”€â”€ index.html                  # å•é¡µåº”ç”¨ï¼ˆHTML+CSS+JSï¼‰
â”‚
â”œâ”€â”€ web_app.py                       # FastAPI åç«¯æœåŠ¡
â”œâ”€â”€ demo_complete.py                 # å‘½ä»¤è¡Œæ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ requirements.txt                 # Python ä¾èµ–
â”œâ”€â”€ .env.example                     # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ lifeos_data.db                  # SQLite æ•°æ®åº“ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ HUNYUAN_FIX_REPORT.md          # è…¾è®¯æ··å…ƒé›†æˆæ–‡æ¡£
â””â”€â”€ README.md                        # é¡¹ç›®æ–‡æ¡£
```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### 1. `agents/workflow_complete.py` - å·¥ä½œæµå¼•æ“
```python
CompleteLifeOSWorkflow              # ä¸»å·¥ä½œæµç±»
â”œâ”€â”€ _intent_recognition_node        # æ„å›¾è¯†åˆ«èŠ‚ç‚¹
â”œâ”€â”€ _task_processing_node           # ä»»åŠ¡å¤„ç†èŠ‚ç‚¹
â”œâ”€â”€ _emotion_support_node           # æƒ…ç»ªæ”¯æŒèŠ‚ç‚¹
â”œâ”€â”€ _habit_management_node          # ä¹ æƒ¯ç®¡ç†èŠ‚ç‚¹
â”œâ”€â”€ _goal_planning_node             # ç›®æ ‡è§„åˆ’èŠ‚ç‚¹
â”œâ”€â”€ _reflection_guide_node          # åæ€å¼•å¯¼èŠ‚ç‚¹
â”œâ”€â”€ _casual_response_node           # é—²èŠå›åº”èŠ‚ç‚¹ï¼ˆæ–°å¢ LLM æ”¯æŒï¼‰
â””â”€â”€ _output_generation_node         # è¾“å‡ºç”ŸæˆèŠ‚ç‚¹
```

**å·¥ä½œæµè·¯ç”±é€»è¾‘ï¼š**
```
ç”¨æˆ·è¾“å…¥ â†’ æ„å›¾è¯†åˆ« â†’ æ¡ä»¶è·¯ç”± â†’ ä¸“ä¸šèŠ‚ç‚¹å¤„ç† â†’ è¾“å‡ºç”Ÿæˆ
                â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
        â†“               â†“
    task_management  emotion_support
    habit_tracking   goal_setting
    reflection       casual_chat
```

#### 2. `agents/hunyuan_llm.py` - LLM é€‚é…å™¨
```python
HunyuanLLM                          # è…¾è®¯æ··å…ƒå°è£…ç±»
â”œâ”€â”€ invoke()                        # LangChain å…¼å®¹æ¥å£
â”œâ”€â”€ _convert_messages()             # æ¶ˆæ¯æ ¼å¼è½¬æ¢
â””â”€â”€ chat()                          # åŸç”Ÿå¯¹è¯æ¥å£

create_hunyuan_llm()                # å·¥å‚å‡½æ•°
```

**å…³é”®ç‰¹æ€§ï¼š**
- âœ… è‡ªåŠ¨æ¶ˆæ¯æ ¼å¼è½¬æ¢ï¼ˆLangChain â†’ è…¾è®¯äº‘æ ¼å¼ï¼‰
- âœ… æ™ºèƒ½å¯¹è±¡æ£€æµ‹ï¼ˆæ”¯æŒ SystemMessage/HumanMessage/AIMessageï¼‰
- âœ… å¼‚å¸¸å¤„ç†å’Œé‡è¯•æœºåˆ¶

#### 3. `agents/conversation_manager.py` - å¯¹è¯ç®¡ç†
```python
ConversationManager                 # å¯¹è¯ç®¡ç†å™¨
â”œâ”€â”€ create_session()               # åˆ›å»ºä¼šè¯
â”œâ”€â”€ add_turn()                     # æ·»åŠ å¯¹è¯è½®æ¬¡
â”œâ”€â”€ get_conversation_history()     # è·å–å†å²è®°å½•
â””â”€â”€ get_session_stats()            # è·å–ä¼šè¯ç»Ÿè®¡
```

**æ•°æ®åº“è¡¨ç»“æ„ï¼š**
- `conversations` - å¯¹è¯è®°å½•ï¼ˆç”¨æˆ·è¾“å…¥+åŠ©ç†å›å¤ï¼‰
- `sessions` - ä¼šè¯ä¿¡æ¯ï¼ˆç”¨æˆ·IDã€å¼€å§‹æ—¶é—´ã€æ´»è·ƒæ—¶é—´ï¼‰
- `habits` - ä¹ æƒ¯æ•°æ®
- `goals` - ç›®æ ‡æ•°æ®
- `reflections` - åæ€è®°å½•
- `habit_checkins` - ä¹ æƒ¯æ‰“å¡
- `goal_milestones` - ç›®æ ‡é‡Œç¨‹ç¢‘

#### 4. `web_app.py` - Web æœåŠ¡
```python
FastAPI åº”ç”¨
â”œâ”€â”€ GET /                          # ä¸»é¡µï¼ˆè¿”å› index.htmlï¼‰
â”œâ”€â”€ WebSocket /ws/{user_id}        # WebSocket å®æ—¶é€šä¿¡
â”œâ”€â”€ GET /api/sessions/{user_id}    # è·å–ç”¨æˆ·ä¼šè¯
â”œâ”€â”€ GET /api/session/{id}/history  # è·å–å†å²è®°å½•
â”œâ”€â”€ GET /api/session/{id}/stats    # è·å–ä¼šè¯ç»Ÿè®¡
â””â”€â”€ GET /health                    # å¥åº·æ£€æŸ¥
```

**WebSocket æ¶ˆæ¯æ ¼å¼ï¼š**
```json
// å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨
{
  "message": "ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬"
}

// æœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯
{
  "type": "thinking|response|error|connected",
  "intent": "casual_chat",
  "confidence": 0.95,
  "response": "åŠ©ç†å›å¤å†…å®¹",
  "processing_steps": ["æ­¥éª¤1", "æ­¥éª¤2"],
  "timestamp": "2025-11-13T10:30:00"
}
```

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

# ===== è…¾è®¯æ··å…ƒé…ç½® =====
TENCENT_SECRET_ID="your_secret_id"
TENCENT_SECRET_KEY="your_secret_key"
HUNYUAN_MODEL="hunyuan-large"

# ===== OpenAI é…ç½®ï¼ˆå¯é€‰ï¼‰=====
# OPENAI_API_KEY="sk-xxxx"
# OPENAI_MODEL="gpt-3.5-turbo"
```

### 4. è¿è¡Œ Demo

```bash
# æ–¹å¼ 1: è¿è¡Œ Web ç•Œé¢ï¼ˆæ¨èï¼‰
python web_app.py
# è®¿é—® http://localhost:8000

# æ–¹å¼ 2: è¿è¡Œå®Œæ•´ Demo
python demo_complete.py

# æ–¹å¼ 3: è¿è¡Œæ—§ç‰ˆ Demoï¼ˆç®€åŒ–ç‰ˆï¼‰
python start_demo.py
```

### 5. æŸ¥çœ‹è¾“å‡º

Demo ä¼šä¾æ¬¡å±•ç¤ºï¼š
1. **ä¿¡æ¯è¿‡è½½åœºæ™¯** - è‡ªåŠ¨æ€»ç»“ä¸ä¼˜å…ˆçº§æ’åº
2. **è®¡åˆ’æ‹†è§£åœºæ™¯** - å¤§ä»»åŠ¡æ‹†æˆå°æ­¥éª¤
3. **ä¸ªæ€§åŒ–æŒ‡å¯¼åœºæ™¯** - æ ¹æ®ä¹ æƒ¯è°ƒæ•´è®¡åˆ’

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          LifeOS AI Assistant                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ç”¨æˆ·è¾“å…¥     â”‚ â”€â”€â”€â†’ â”‚  æ„å›¾åˆ†ç±»     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚             â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚              â†“               â†“       â†“     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚     â”‚ æƒ…ç»ªæ”¯æŒæ¨¡å¼ â”‚  â”‚ è¡ŒåŠ¨åŠ©ç†æ¨¡å¼ â”‚  â”‚     â”‚
â”‚     â”‚ (æ¸©æš–é™ªä¼´)  â”‚  â”‚ (ä»»åŠ¡æ‹†è§£)  â”‚  â”‚     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚                           â”‚         â”‚     â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚              â†“            â†“               â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚     â”‚ æ™ºèƒ½æ‘˜è¦    â”‚  â”‚ ä»»åŠ¡æ‹†è§£    â”‚       â”‚
â”‚     â”‚ (ä¿¡æ¯è¿‡æ»¤)  â”‚  â”‚ (è¡ŒåŠ¨æŒ‡å¯¼)  â”‚       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚              â”‚            â”‚               â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜               â”‚
â”‚                       â†“                   â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚              â”‚  ä¸ªæ€§åŒ–è®°å¿†ç³»ç»Ÿ  â”‚           â”‚
â”‚              â”‚  (SQLite)      â”‚           â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                       â”‚                   â”‚
â”‚                       â†“                   â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚              â”‚   LLM æœåŠ¡å±‚    â”‚           â”‚
â”‚              â”‚ (è…¾è®¯æ··å…ƒ/OpenAI)â”‚          â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡å—

| æ¨¡å— | åŠŸèƒ½ | æ–‡ä»¶ |
|-----|------|------|
| **æ„å›¾åˆ†ç±»** | è¯†åˆ«ç”¨æˆ·æ„å›¾ï¼ˆæƒ…ç»ª/ä»»åŠ¡/å†³ç­–ï¼‰ | `conversation_flow.py` |
| **æ™ºèƒ½æ‘˜è¦** | ä¿¡æ¯è¿‡æ»¤ã€ä¼˜å…ˆçº§æ’åº | `smart_summary.py` |
| **ä»»åŠ¡æ‹†è§£** | å¤§ä»»åŠ¡åˆ†è§£æˆå°æ­¥éª¤ | `next_action.py` |
| **è®°å¿†ç³»ç»Ÿ** | ç”¨æˆ·åå¥½ã€ä¹ æƒ¯è®°å½• | `memory.py` |
| **LLM æœåŠ¡** | å¤šæ¨¡å‹æ¥å…¥ï¼ˆæ··å…ƒ/OpenAIï¼‰ | `llm_service.py` |
| **ä¸»æ§åˆ¶å™¨** | å®Œæ•´æµç¨‹ç¼–æ’ | `lifeos_real.py` |

---

## ğŸ¬ åŠŸèƒ½æ¼”ç¤º

### Demo #1: ä¿¡æ¯è¿‡è½½åœºæ™¯

```python
from modules.lifeos_real import LifeOSRealAssistant

assistant = LifeOSRealAssistant(llm_provider="hunyuan")

response = assistant.chat(
    user_id="user_001",
    user_input="""æˆ‘æ„Ÿè§‰å¥½å´©æºƒï¼Œä»Šå¤©äº‹æƒ…å¤ªå¤šäº†ï¼š
    1. æ˜å¤©è¦äº¤çš„é¡¹ç›®æŠ¥å‘Šè¿˜æ²¡å†™å®Œ
    2. æ™šä¸Šè¦å’Œå®¢æˆ·å¼€ä¼šï¼Œè¿˜æ²¡å‡†å¤‡ææ–™
    3. æœ‰ä¸‰å°é‚®ä»¶è¦å›å¤
    4. åŒäº‹è®©æˆ‘å¸®å¿™çœ‹ä¸¤ä¸ªæ–‡ä»¶
    5. è¿˜è¦å»è¶…å¸‚ä¹°èœ"""
)

print(response["display_text"])
```

**è¾“å‡º:** è‡ªåŠ¨æ€»ç»“ã€ä¼˜å…ˆçº§æ’åºã€å»ºè®®è·³è¿‡é¡¹

---

### Demo #2: ä»»åŠ¡æ‹†è§£åœºæ™¯

```python
response = assistant.chat(
    user_id="user_002",
    user_input="æˆ‘æƒ³å¼€å§‹å­¦ä¹  Python æ•°æ®åˆ†æï¼Œä½†ä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹"
)

print(response["display_text"])
```

**è¾“å‡º:** 3-5ä¸ªå¯æ‰§è¡Œæ­¥éª¤ï¼Œæ¯æ­¥ä¼°æ—¶5-30åˆ†é’Ÿ

---

### Demo #3: ä¸ªæ€§åŒ–æŒ‡å¯¼

```python
# å…ˆè®°å½•ç”¨æˆ·åå¥½
assistant.memory_manager.remember(
    "user_003",
    "morning_productivity",
    True,  # æ—©ä¸Šæ•ˆç‡é«˜
    MemoryType.PREFERENCE
)

response = assistant.chat(
    user_id="user_003",
    user_input="ä»Šå¤©ä¸‹åˆè¦å†™æŠ¥å‘Šï¼Œæ™šä¸Šè¦å›é‚®ä»¶"
)

print(response["display_text"])
```

**è¾“å‡º:** åŸºäºç”¨æˆ·ä¹ æƒ¯ï¼Œæ™ºèƒ½è°ƒæ•´ä»»åŠ¡å®‰æ’

---

## ğŸ”Œ æ¥å…¥å¤§æ¨¡å‹

### æ–¹å¼ 1: è…¾è®¯æ··å…ƒï¼ˆæ¨èï¼‰

```ini
# .env æ–‡ä»¶
LLM_PROVIDER="hunyuan"
TENCENT_SECRET_ID="your_secret_id"
TENCENT_SECRET_KEY="your_secret_key"
HUNYUAN_MODEL="hunyuan-large"
```

### æ–¹å¼ 2: OpenAI

```ini
# .env æ–‡ä»¶
LLM_PROVIDER="openai"
OPENAI_API_KEY="sk-xxxx"
OPENAI_MODEL="gpt-3.5-turbo"
```

### æ–¹å¼ 3: Mock æ¨¡å¼ï¼ˆæµ‹è¯•ç”¨ï¼‰

```ini
# .env æ–‡ä»¶
LLM_PROVIDER="mock"
```

### ä»£ç ä¸­ä½¿ç”¨

```python
from modules.llm_service import call_llm

# è‡ªåŠ¨ä½¿ç”¨ .env é…ç½®çš„æä¾›è€…
messages = [
    {"role": "system", "content": "ä½ æ˜¯ LifeOS åŠ©æ‰‹"},
    {"role": "user", "content": "å¸®æˆ‘æ•´ç†ä»»åŠ¡"}
]

response = call_llm(messages, temperature=0.7, max_tokens=1500)
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
lifeos-ai-assistant/
â”œâ”€â”€ agents/                          # LangGraph æ™ºèƒ½ä½“ï¼ˆæ–°æ¶æ„ï¼‰â­
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ state.py                     # LangGraph çŠ¶æ€å®šä¹‰
â”‚   â”œâ”€â”€ hunyuan_llm.py              # è…¾è®¯æ··å…ƒ LLM å°è£…
â”‚   â”œâ”€â”€ prompts_complete.py         # å®Œæ•´ Prompt æ¨¡æ¿é›†
â”‚   â”œâ”€â”€ tools_complete.py           # 4 å¤§ç±»å·¥å…·å®ç°
â”‚   â”œâ”€â”€ conversation_manager.py     # å¯¹è¯ç®¡ç†ï¼ˆSQLiteï¼‰
â”‚   â””â”€â”€ workflow_complete.py        # LangGraph å®Œæ•´å·¥ä½œæµ
â”‚
â”œâ”€â”€ modules/                         # åŸå§‹æ¨¡å—ï¼ˆæ—§æ¶æ„ï¼‰
â”‚   â”œâ”€â”€ conversation_flow.py        # æ„å›¾åˆ†ç±»ä¸å¯¹è¯æµ
â”‚   â”œâ”€â”€ smart_summary.py            # æ™ºèƒ½æ‘˜è¦
â”‚   â”œâ”€â”€ next_action.py              # ä»»åŠ¡æ‹†è§£
â”‚   â”œâ”€â”€ memory.py                   # è®°å¿†ç³»ç»Ÿ
â”‚   â”œâ”€â”€ system_prompts.py           # Prompt æ¨¡æ¿
â”‚   â”œâ”€â”€ llm_service.py              # LLM æœåŠ¡å±‚
â”‚   â””â”€â”€ lifeos_real.py              # æ—§ç‰ˆä¸»æ§åˆ¶å™¨
â”‚
â”œâ”€â”€ static/                          # Web UI é™æ€èµ„æº
â”‚   â””â”€â”€ index.html                  # å•é¡µåº”ç”¨ï¼ˆHTML+CSS+JSï¼‰
â”‚
â”œâ”€â”€ web_app.py                       # FastAPI åç«¯æœåŠ¡ï¼ˆä½¿ç”¨ agents/ï¼‰â­
â”œâ”€â”€ demo_complete.py                 # å‘½ä»¤è¡Œæ¼”ç¤ºï¼ˆä½¿ç”¨ agents/ï¼‰â­
â”œâ”€â”€ start_demo.py                    # æ—§ç‰ˆ Demoï¼ˆä½¿ç”¨ modules/ï¼‰
â”œâ”€â”€ requirements.txt                 # Python ä¾èµ–
â”œâ”€â”€ .env                            # ç¯å¢ƒé…ç½®ï¼ˆéœ€åˆ›å»ºï¼‰
â”œâ”€â”€ .env.example                    # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ lifeos_data.db                  # SQLite æ•°æ®åº“ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ HUNYUAN_FIX_REPORT.md          # è…¾è®¯æ··å…ƒé›†æˆæ–‡æ¡£
â””â”€â”€ README.md                        # é¡¹ç›®æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

**âš ï¸ æ¶æ„è¯´æ˜ï¼š**
- **`agents/` - æ–°æ¶æ„**ï¼ˆæ¨èä½¿ç”¨ï¼‰ï¼šåŸºäº LangGraphï¼Œå®Œæ•´çš„å¤šæ™ºèƒ½ä½“å·¥ä½œæµ
- **`modules/` - æ—§æ¶æ„**ï¼šæ—©æœŸç‰ˆæœ¬ï¼ŒåŠŸèƒ½ç®€åŒ–ï¼Œä»…ä¾›å‚è€ƒ
- **å½“å‰ Web UI å’Œä¸»è¦åŠŸèƒ½ä½¿ç”¨ `agents/` ç›®å½•**

---

## ï¿½ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ„å›¾ç±»å‹

1. **åœ¨ `agents/prompts_complete.py` æ·»åŠ  Promptï¼š**
```python
new_intent_prompt = ChatPromptTemplate.from_messages([
    ("system", "ä½ çš„ç³»ç»Ÿæç¤º..."),
    ("human", "{user_input}")
])
```

2. **åœ¨ `agents/workflow_complete.py` æ·»åŠ èŠ‚ç‚¹ï¼š**
```python
def _new_intent_node(self, state: AgentState) -> Dict:
    """æ–°æ„å›¾å¤„ç†èŠ‚ç‚¹"""
    # ä½ çš„å¤„ç†é€»è¾‘
    return {"final_output": "å›å¤å†…å®¹"}
```

3. **æ›´æ–°è·¯ç”±é…ç½®ï¼š**
```python
workflow.add_conditional_edges(
    "intent_recognition",
    self._route_by_intent,
    {
        # ... å…¶ä»–è·¯ç”±
        "new_intent": "new_intent_processing"
    }
)
```

### æ·»åŠ æ–°å·¥å…·

åœ¨ `agents/tools_complete.py` ä¸­ï¼š

```python
class NewTool(BaseTool):
    name = "new_tool"
    description = "å·¥å…·æè¿°"
    
    def _run(self, query: str) -> str:
        # å·¥å…·é€»è¾‘
        return result
```

### è‡ªå®šä¹‰ LLM

åœ¨ `agents/hunyuan_llm.py` ä¸­å®ç° `invoke()` æ–¹æ³•å…¼å®¹ LangChainï¼š

```python
class CustomLLM:
    def invoke(self, messages):
        # è°ƒç”¨ä½ çš„ LLM API
        response = your_llm_api(messages)
        return Response(content=response)
```

### è‡ªå®šä¹‰ Prompt

æ‰€æœ‰ Prompt æ¨¡æ¿åœ¨ `agents/prompts_complete.py`ï¼š

```python
from agents.prompts_complete import complete_intent_recognition_prompt

# ä¿®æ”¹æˆ–æ‰©å±• Prompt
CUSTOM_PROMPT = complete_intent_recognition_prompt + """
ä½ çš„é¢å¤–æŒ‡ä»¤...
"""
```

```python
from modules.system_prompts import MASTER_SYSTEM_PROMPT

# ä¿®æ”¹æˆ–æ‰©å±• Prompt
CUSTOM_PROMPT = MASTER_SYSTEM_PROMPT + """
ä½ çš„é¢å¤–æŒ‡ä»¤...
"""
```

### æµ‹è¯•

```bash
# è¿è¡Œé›†æˆæµ‹è¯•
python -m modules.integration_testing

# æµ‹è¯•å•ä¸ªæ¨¡å—
python -m modules.smart_summary
python -m modules.next_action
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å½“å‰ |
|-----|------|------|
| æ„å›¾åˆ†ç±»å‡†ç¡®ç‡ | > 90% | 85-90% |
| å“åº”æ—¶é—´ | < 3s | 1-2s |
| ä»»åŠ¡æ‹†è§£è´¨é‡ | > 85% | 80-85% |
| ç”¨æˆ·æ»¡æ„åº¦ | > 4.0/5.0 | å¾…æµ‹è¯• |

---

## ğŸ—ºï¸ Roadmap

### âœ… å·²å®Œæˆ
- [x] åŒæ¨¡å¼æ¶æ„ï¼ˆæƒ…ç»ªæ”¯æŒ â‡„ è¡ŒåŠ¨åŠ©ç†ï¼‰
- [x] æ™ºèƒ½æ‘˜è¦ä¸ä¼˜å…ˆçº§æ’åº
- [x] ä»»åŠ¡è‡ªåŠ¨æ‹†è§£
- [x] ä¸ªæ€§åŒ–è®°å¿†ç³»ç»Ÿ
- [x] è…¾è®¯æ··å…ƒ LLM æ¥å…¥
- [x] å®Œæ•´ Demo æ¼”ç¤º

### ğŸš§ è¿›è¡Œä¸­
- [ ] Web å‰ç«¯ç•Œé¢
- [ ] ç§»åŠ¨ç«¯ APP
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•è¦†ç›–

### ğŸ“… è®¡åˆ’ä¸­
- [ ] æ—¥å†é›†æˆï¼ˆæé†’ã€æ’æœŸï¼‰
---

## ğŸ“ TODO

- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] æ•°æ®å¯¼å‡º/å¯¼å…¥åŠŸèƒ½
- [ ] å¤šäººåä½œæ¨¡å¼
- [ ] è¯­éŸ³äº¤äº’
- [ ] æ€§èƒ½ä¼˜åŒ–ï¼ˆç¼“å­˜ã€å¹¶å‘ï¼‰
- [ ] Docker å®¹å™¨åŒ–éƒ¨ç½²
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ PRï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ”¹åŠ¨ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. æäº¤ Pull Request

**ä»£ç è§„èŒƒï¼š**
- éµå¾ª PEP 8 Python ä»£ç è§„èŒƒ
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²
- ä¿æŒä»£ç ç®€æ´æ˜“è¯»

---

## ğŸ“„ License

æœ¬é¡¹ç›®é‡‡ç”¨ MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ“§ è”ç³»æ–¹å¼

- **é¡¹ç›®åœ°å€**: [GitHub](https://github.com/yourusername/lifeos-ai-assistant)
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/yourusername/lifeos-ai-assistant/issues)
- **Pull Requests**: [PR](https://github.com/yourusername/lifeos-ai-assistant/pulls)

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡ï¼š

- [LangChain](https://python.langchain.com/) - LLM åº”ç”¨å¼€å‘æ¡†æ¶
- [LangGraph](https://github.com/langchain-ai/langgraph) - å·¥ä½œæµç¼–æ’å¼•æ“
- [è…¾è®¯æ··å…ƒ](https://cloud.tencent.com/product/hunyuan) - å¤§æ¨¡å‹ API æœåŠ¡
- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£ Web æ¡†æ¶
- [SQLite](https://www.sqlite.org/) - è½»é‡çº§æ•°æ®åº“

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼â­**

Made with â¤ï¸ by LifeOS Team

[â¬† å›åˆ°é¡¶éƒ¨](#lifeos-ai-assistant-)

</div>
